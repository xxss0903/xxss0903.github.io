
--
layout: blog
title: 'Android代码规范填坑-沃音乐客户端'
date: 2017-07-08 12:11:34
categories: blog
tags: code
image: ''
lead-text: 'Android代码规范填坑-沃音乐客户端'
---

```
沃音乐客户端写代码过程中遇到的坑，以及需要及时规避和修改的
```

记录当前项目中遇到的坑，主要是平时写代码的时候没有注意到的一些问题和细节。<br>
**细节决定成败** 平时的代码中过于追求速度忽视了一些代码规范和细节

* 关于强制转换
不同类型的强制转换会导致严重的bug，在转换前需要判断是否能够或者说需要的转换类型<br>

* 关于传参
由于方法要尽可能相互独立，所以开始的方法的参数应该尽可能多，这样保证后面需要修改的时候不用<br>
单独对某个方法内部进行修改，保证其独立性

* 关于MVP
MVP的模式使用是分离代码，轻量化activity，分离视图更新、数据操作（网络获取、本地存储）、逻辑操作

* 关于工具类
工具类应该做到尽可能的独立，也就是需要的参数尽量使用穿入的方法，比如Context参数，如果在<br>
方法中使用到了context作为参数，界面调用等，那么最好就是直接将其定位为一个参数来，并且要<br>
注意的是当你这个工具类使用了单例，那么在穿入context的时不能将其写在创建方法中（如getInstance）<br>
里面，而是每次都将其作为一个独立的值穿入，这样在不同的上下文环境中才能生效

* 关于网络请求
现在的网络请求，比如删除的结果返回心里不踏实，导致在记录返回的结果的时候咱前顾后没有太好的处理









